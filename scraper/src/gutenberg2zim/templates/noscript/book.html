<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ book.title }} - Project Gutenberg</title>
    <link rel="stylesheet" href="common.css">
    <style>
        body {
            max-width: 900px;
        }
        h1 {
            margin-bottom: 10px;
        }
        .subtitle {
            color: #666;
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        .book-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .book-info dt {
            font-weight: 600;
            color: #2c3e50;
            margin-top: 10px;
        }
        .book-info dd {
            margin-left: 0;
            margin-bottom: 5px;
        }
        .formats {
            margin: 20px 0;
        }
        .format-link {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px;
            background: #3498db;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
        }
        .format-link:hover {
            background: #2980b9;
        }
        .cover-image {
            max-width: 200px;
            margin: 20px 0;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .description {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-left: 4px solid #3498db;
        }
    </style>
</head>
<body>
    <div class="nav">
        <a href="../index.html">Home</a>
        <a href="books.html">Books</a>
        <a href="authors.html">Authors</a>
        <a href="lcc_shelves.html">Shelves</a>
    </div>
    
    <h1>{{ book.title }}</h1>
    {% if book.subtitle %}
    <div class="subtitle">{{ book.subtitle }}</div>
    {% endif %}
    
    {% if book.book_id|book_has_cover %}
    <img src="../covers/{{ book.book_id }}_cover_image.jpg" alt="Cover: {{ book.title }}" class="cover-image">
    {% endif %}
    
    <div class="book-info">
        <dl>
            <dt>Author</dt>
            <dd><a href="author_{{ book.author.gut_id }}.html">{{ book.author.name() }}</a></dd>
            
            <dt>Book ID</dt>
            <dd>{{ book.book_id }}</dd>
            
            {% if book.languages %}
            <dt>Languages</dt>
            <dd>{{ book.languages|join(", ") }}</dd>
            {% endif %}
            
            {% if book.lcc_shelf %}
            <dt>LCC Shelf</dt>
            <dd>{{ book.lcc_shelf }}</dd>
            {% endif %}
            
            <dt>License</dt>
            <dd>{{ book.license }}</dd>
            
            {% if book.downloads %}
            <dt>Downloads</dt>
            <dd>{{ "{:,}".format(book.downloads) }}</dd>
            {% endif %}
        </dl>
    </div>
    
    {% if book.description %}
    <div class="description">
        <strong>Description:</strong>
        <p>{{ book.description }}</p>
    </div>
    {% endif %}
    
    <div class="formats">
        <h2>Available Formats</h2>
        {% for fmt in book.requested_formats(formats) %}
        {% if fmt == "html" %}
        <a href="../{{ book|article_name_for }}" class="format-link">Read Online (HTML)</a>
        {% elif fmt == "epub" %}
        <a href="../{{ book|archive_name_for("epub") }}" class="format-link">Download EPUB</a>
        {% elif fmt == "pdf" %}
        <a href="../{{ book|archive_name_for("pdf") }}" class="format-link">Download PDF</a>
        {% endif %}
        {% endfor %}
    </div>
</body>
</html>
