# Contributing

## Developing the Vue.js ZIM UI

Sometimes you need to tweak the Vue.js UI but most of the assets that the UI
expects (`books.json`, `authors.json`, â€¦) are generated by the scraper. The
recommended workflow mirrors the one used in the Youtube scraper and avoids
special build hooks:

1. **Build the Docker image**

   ```bash
   docker build -t local-gutenberg .
   ```

2. **Generate a small ZIM file with JSON assets**

   ```bash
   docker run --rm -it -v "$PWD/output":/output \
     local-gutenberg \
     gutenberg2zim --books 1,2,3 --languages en --formats html \
     --zim-file gutenberg_dev --output /output
   ```

   Adjust the arguments to match the dataset you want to inspect.

3. **Extract the assets that the UI needs**

   ```bash
   find ui/public/ -mindepth 1 ! -name ".gitignore" -delete
   docker run -it --rm -v $(pwd)/output:/data ghcr.io/openzim/zim-tools:latest \
     zimdump dump --dir=/data/gutenberg_dev /data/gutenberg_dev.zim
   mv output/gutenberg_dev/* ui/public/
   rm -rf output/gutenberg_dev
   ```

   (On Windows you can run the same commands inside WSL or adapt them to
   PowerShell.)

4. **Start the UI locally**

   ```bash
   cd ui
   yarn install
   yarn dev
   ```

   Clean `ui/public` before building the Docker image again to avoid shipping
   the extracted assets in production.

This workflow keeps the Python package lean (no build hooks) and lets the Docker
image be the single place where the UI build happens for production. For local
development you just reuse the assets generated by the scraper.

